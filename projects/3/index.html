<html>
	<head>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="https://threejs.org/build/three.js"></script>
		<script>

			var camera, scene, renderer, mesh, material, controls;
			init();
			animate();
			addCubes();
			render();


			function addCubes() {
					var xDistance = 50;
			    var zDistance = 30;
			    var geometry = new THREE.BoxGeometry(10,10,10);
			    var material = new THREE.MeshBasicMaterial({color:0x00ff44});
			    
			    //initial offset so does not start in middle.
			    var xOffset = -80;
			    
			    for(var i = 0; i < 4; i++){
			        for(var j = 0; j < 3; j++){
			        		var mesh  = new THREE.Mesh(geometry, material);
			        		mesh.position.x = (xDistance * i) + xOffset;
			            mesh.position.z = (zDistance * j);
			        		scene.add(mesh);
			        }
			    };
			}

			function init() {
			    // Renderer.
			    renderer = new THREE.WebGLRenderer();
			    //renderer.setPixelRatio(window.devicePixelRatio);
			    renderer.setSize(window.innerWidth, window.innerHeight);
			    // Add renderer to page
			    document.body.appendChild(renderer.domElement);

			    // Create camera.
			    camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 1000);
			    camera.position.z = 100;
			    
			    // Add controls
			    controls = new THREE.TrackballControls( camera );
			    controls.addEventListener( 'change', render );

			    // Create scene.
			    scene = new THREE.Scene();

			    // Create ambient light and add to scene.
			    var light = new THREE.AmbientLight(0x404040); // soft white light
			    scene.add(light);

			    // Create directional light and add to scene.
			    var directionalLight = new THREE.DirectionalLight(0xffffff);
			    directionalLight.position.set(1, 1, 1).normalize();
			    scene.add(directionalLight);

			    // Add listener for window resize.
			    window.addEventListener('resize', onWindowResize, false);
			}

			function animate() {
			    requestAnimationFrame(animate);
			    controls.update();
			    
			}

			function render() {
				renderer.render(scene, camera);
			}

			function onWindowResize() {
			    camera.aspect = window.innerWidth / window.innerHeight;
			    camera.updateProjectionMatrix();
			    renderer.setSize(window.innerWidth, window.innerHeight);
			    controls.handleResize();
			}
		


		</script>
	</body>
</html>